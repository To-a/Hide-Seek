<!DOCTYPE html>
<html>
    <head>
        <title>Client app</title>
    </head>

    <body>
        <p id="coords"></p>
        <button onclick="getLocation()">get location</button>


        <script>
            var xttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {}
            function talkToServer() {
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function() {
                    if(this.readyState == 4 && this.status == 200) {
                        document.getElementById("coords").innerHTML = xhttp.responseText;
                    }
                };

                xhttp.open("GET", "http://152.165.106.254:8080", true);
                xhttp.send();
            }
            
            var x = document.getElementById("coords");
            
            function getLocation() {
                if (navigator.geolocation){
                    navigator.geolocation.getCurrentPosition(showPosition);
                } else {
                    x.innerHTML = "Geolocation not supported";
                }
            }
            function showPosition(position) {
                x.innerHTML = "Latitude: " + position.coords.latitude + "<br>Longitude: " + position.coords.longitude;
            }
        </script>
    </body>
</html>